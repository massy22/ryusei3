/* 流星のロックマン3 モチーフ色（ブラックエース／レッドジョーカー） */
:root {
  /* ブラックエース（ネオンライム） */
  --accent-black-ace:  #8FF80C;
  /* レッドジョーカー（深紅） */
  --accent-red-joker:  #E53935;

  /* 見出し背景用の淡色（RGB）。アルファは --heading-bg-alpha を使用 */
  --bg-black-ace-rgb: 184, 247, 142; /* ライムの淡色 */
  --bg-red-joker-rgb: 255, 214, 145; /* ゴールド寄りの淡色 */
  --heading-bg-alpha: 0.10;  /* 見出しの薄い背景の不透明度 */
}

/* 見出し（コンテンツ領域に限定） - Wiki 風に読みやすく */
.article-heading,
article :is(h1,h2,h3,h4,h5,h6) {
  margin-top: 1.2rem;
  margin-bottom: 0.6rem;
  padding: 0.45rem 0.9rem;
  border-radius: 6px;
  line-height: 1.22;
  scroll-margin-top: 4.5rem; /* fixed header を想定したアンカー補正 */
  color: #0b1220; /* 見出しの基本色（本文より濃く） */
  font-weight: 600;
  background-clip: padding-box;
}

/* レベル別の左ボーダーと薄い背景で視認性向上（左アクセント + 穏やかな色背景） */
.article-heading,
article h1 {
  font-size: 1.8rem;
  border-left: 4px solid var(--accent-black-ace);
  /* ブラックエースの淡色背景 */
  background-color: rgba(var(--bg-black-ace-rgb), calc(var(--heading-bg-alpha) * 1.2));
}
.article-heading,
article h2 {
  font-size: 1.5rem;
  border-left: 4px solid var(--accent-red-joker);
  background-color: rgba(var(--bg-red-joker-rgb), var(--heading-bg-alpha));
}
.article-heading,
article h3 {
  font-size: 1.25rem;
  border-left: 4px solid var(--accent-black-ace);
  background-color: rgba(var(--bg-black-ace-rgb), var(--heading-bg-alpha));
}
.article-heading,
article h4 {
  font-size: 1.1rem;
  border-left: 3px solid var(--accent-red-joker);
  background-color: rgba(var(--bg-red-joker-rgb), calc(var(--heading-bg-alpha) / 1.5 * 1.2));
}
.article-heading,
article h5 {
  font-size: 1.0rem;
  border-left: 3px solid var(--accent-black-ace);
  background-color: rgba(var(--bg-black-ace-rgb), calc(var(--heading-bg-alpha) / 1.5));
}
.article-heading,
article h6 {
  font-size: 0.95rem;
  border-left: 2px solid var(--accent-red-joker);
  background-color: rgba(var(--bg-red-joker-rgb), calc(var(--heading-bg-alpha) / 2));
  font-weight: 600;
}

/* 見出しのパーマリンク（アンカー）表示：普段は隠し、ホバーで表示。キーボード操作にも対応 */
.article-heading .header-anchor,
article :is(h1,h2,h3,h4,h5,h6) .header-anchor {
  opacity: 0;
  margin-left: 0.5rem;
  transition: opacity .14s ease-in-out;
  color: #334155; /* 目立ちすぎない落ち着いた色 */
  text-decoration: none;
  font-size: 0.85em;
}

/* ホバー／フォーカスでアンカーを表示 */
article :is(h1,h2,h3,h4,h5,h6):hover .header-anchor,
article :is(h1,h2,h3,h4,h5,h6) .header-anchor:focus {
  opacity: 1;
}

/* 見出しのテキストが長い場合の折り返しと整列 */
article :is(h1,h2,h3,h4,h5,h6) {
  word-break: break-word;
  hyphens: auto;
}

/* 小さい画面での調整 */
@media (max-width: 640px) {
  article h1 { font-size: 1.45rem; }
  article h2 { font-size: 1.25rem; }
  article h3 { font-size: 1.1rem; }
  article :is(h4,h5,h6) {
    font-size: 0.95rem;
  }
}
